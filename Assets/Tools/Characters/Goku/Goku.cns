; Constants and state file.
; There are comments scattered through this file, so you may like to
; take a look if would like to learn more about the cns.

[Data]
life = 1300			;Amount of life to start with
power = 3000		;Amount of maximum power
attack = 130		;attack power (more is stronger)
defence = 130		;defensive power (more is stronger)
fall.defence_up = 50	;Percentage to increase defense everytime player is knocked down
liedown.time = 60		;Time which player lies down for, before getting up
airjuggle = 15		;Number of points for juggling
sparkno = 2			;Default hit spark number for HitDefs
guard.sparkno = 40	;Default guard spark number
KO.echo = 0			;1 to enable echo on KO
volume = 0			;Volume offset (negative for softer)
IntPersistIndex = 60	;Variables with this index and above will not have their values
FloatPersistIndex = 40  ;reset to 0 between rounds or matches. There are 60 int variables,
  				;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
  				;If omitted, then it defaults to 60 and 40 for integer and float
  				;variables repectively, meaning that none are persistent, i.e. all
  				;are reset. If you want your variables to persist between matches,
  				;you need to override state 5900 from common1.cns.


[Size]
xscale = 1			;Horizontal scaling factor.
yscale = 1			;Vertical scaling factor.
ground.back = 15		;Player width (back, ground)
ground.front = 16		;Player width (front, ground)
air.back = 12		;Player width (back, air)
air.front = 12		;Player width (front, air)
height = 60			;Height of player (for opponent to jump over)
attack.dist = 160		;Default attack distance
proj.attack.dist = 90	;Default attack distance for projectiles
proj.doscale = 0		;Set to 1 to scale projectiles too   
head.pos = -5, -90	;Approximate position of head
mid.pos = -5, -60		;Approximate position of midsection
shadowoffset = 0		;Number of pixels to vertically offset the shadow
draw.offset = 0,0		;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 4.6		;Walk forward
walk.back = -4.6		;Walk backward
run.fwd  = 6.6, 0		;Run forward (x, y)
run.back = -4.5,-3.8	;Hop backward (x, y)
jump.neu = 0,-8.4		;Neutral jumping velocity (x, y)
jump.back = -2.55		;Jump back Speed (x, y)
jump.fwd = 2.5		;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1;Running jump speeds (opt)
runjump.fwd = 4,-8.1	;.
airjump.neu = 0,-8.1	;.
airjump.back = -2.55	;Air jump speeds (opt)
airjump.fwd = 2.5		;.

[Movement]
airjump.num = 1		;Number of air jumps allowed (opt)
airjump.height = 35	;Minimum distance from ground before you can air jump (opt)
yaccel = .44		;Vertical acceleration
stand.friction = .85	;Friction coefficient when standing
crouch.friction = .82	;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...

;---------------------------------------------------------------------------
; Perder por Tiempo
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 5
ampl = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Pose de Ganador:
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Pose de Ganador - Inicio
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 500
flag = roundnotover

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S600,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S600,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S600,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S600,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S600,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S600,2
volume = 999

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Introducción
[Statedef 190]
type = A
ctrl = 0
physics = N
velset = 0,0
anim = 190
facep2 = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 20
value = 190

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "nube"
ID = 192
stateno = 192
pos = -182,-90
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 1000
pausemovetime = 1000
size.xscale = 1.15
size.yscale = 1.15

[State -1, Screen Bound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 240, 3]
type = PosAdd
trigger1 = time = 0
x = -200
y = -90

[State 1010, 5]
type = VelSet
trigger1 = time = 0
x = 4

[State 1010, 5]
type = VelSet
trigger1 =time > 49
x = 0

[State 1010, 5]
type = VelAdd
trigger1 = time > 50
y = -.2

[State 0, Gravity]
type = Gravity
trigger1 =  time > 60

[State 191, 2]
type = AssertSpecial
trigger1 = time = [0,1000]
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = Pos Y >= -7.5
value = 191
;-------------------------------------------------------------------------------
; Agachado
[Statedef 191]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
anim = 191
sprpriority = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S600,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S600,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S600,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S600,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S600,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S600,1
volume = 999

[State 192, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =1222
ID = 1222
pos = 1,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.35,0.30
sprpriority = 0

[State 190, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = Animtime = 0
value = 0
;-------------------------------------------------------------------------------
; Nube Voladora
[Statedef 192]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
anim = 192
sprpriority = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,18

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && time < 30
x = 3.60
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 50
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 70
x = 7
y = -1.5

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 150
;===============================================================================
; Carga de Energía:
;-------------------------------------------------------------------------------
[Statedef 500]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S10,20
volume = 999
channel = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S10,20
volume = 999
channel = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S10,20
volume = 999
channel = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S10,20
volume = 999
channel = 3

[State 0, EnvShake]
type = EnvShake
triggerall = time >= 7
trigger1 = time%5 = 0
time = 5
ampl = -4

[State 0, PowerAdd]
type = PowerAdd
triggerall = time >= 7
trigger1 = 1
value = IfElse(Var(50)=0,20,25)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S500,1
volume = 50
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 35
trigger1 = timemod = 30,0
value = S500,2
volume = 50
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S0,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S0,9
volume = 999

[State 0, Aura NEW (Fill 1)]
type = Helper
trigger1 = time = 7
helpertype = normal
name = "Aura"
ID = 550
stateno = 550
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .20
size.yscale = .25

[State 0, Aura NEW (Fill 2)]
type = Helper
trigger1 = time = 7
helpertype = normal
name = "Aura"
ID = 551
stateno = 551
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .20
size.yscale = .25

[State 0, Aura NEW (Fill 3)]
type = Helper
trigger1 = time = 7
helpertype = normal
name = "Aura"
ID = 552
stateno = 552
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .22
size.yscale = .25

[State 0, Viento]
type = Explod
triggerall = Time >= 4
trigger1 = time%10 = 0
anim = 1220
ID = 550
pos = 14,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.18,0.19
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Viento]
type = Explod
triggerall = Time >= 4
trigger1 = time%10 = 0
anim = 1220
ID = 550
pos = -4,-3
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.18,0.19
vel = 2,0
sprpriority = 0
ontop = 0
ownpal = 0
removeongethit = 1

[State 200, End]
type = ChangeState
Triggerall = ailevel = 0
triggerall = time >= 12
trigger1 = command != "hold_s"
trigger2 = power = 3000
value = 505
;-------------------------------------------------------------------------------
; Carga de Energía - Fin
[Statedef 505]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 505
sprpriority = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 500
channel = 3

[State 5210, 1] ;Glow OFF
type = PalFX
trigger1 = Time = 0
time = 1
add = 0,0,0
ignorehitpause = 0

;---------------------
[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y = 0
statetype = S
movetype = I
physics = S
;---------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,3
volume = 50

[State 0, Ola]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Ola"
ID = 570
facing = 1
stateno = 570
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1
Supermovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
; Aura 1
[Statedef 550]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 575
sprpriority = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

;[State 0, AngleDraw]
;type = AngleDraw
;trigger1 = 1
;value = 1
;scale = .175*Helper(999999),Fvar(16),.225*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, Passive Aura Burst]
type = Explod
trigger1 = timemod = 3,0
anim = 555+random%2
ID = 560
pos = (-25+random%50),(5-random%25)
postype = p1
facing = Cond(random < 500,1,-1)
vfacing = 1
bindtime = 1
vel = 0,-3.5
removetime = -2
scale = .2,.2
sprpriority = 0
ontop = Cond(random < 500,1,0)
supermovetime = 999
pausemovetime = 999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 500
id = 550

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 9022
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno = 505 || (root,stateno = 191 && root,AnimElem = 16)
Trigger2 = (root,stateno = 1550 && Root,Time = 42)
Trigger3 = (root,stateno = 1560 && Root,AnimElem = 8)
Trigger4 = (root,stateno = 1561 && Root,AnimElemTime(5)=4)
value = 555

;-------------------------------------------------------------------------------
; Aura 2
[Statedef 551]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 575
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

;[State 0, AngleDraw]
;type = AngleDraw
;trigger1 = 1
;value = 1
;scale = .175*Helper(999999),Fvar(16),.225*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = Cond(Root,Var(50)=0,35,0),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno = 505 || (root,stateno = 191 && root,AnimElem = 16)
Trigger2 = (root,stateno = 1550 && Root,Time = 42)
Trigger3 = (root,stateno = 1560 && Root,AnimElem = 8)
Trigger4 = (root,stateno = 1561 && Root,AnimElemTime(5)=4)
value = 555
;-------------------------------------------------------------------------------
; Aura 3
[Statedef 552]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5500
sprpriority = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-10

;[State 0, AngleDraw]
;type = AngleDraw
;trigger1 = 1
;value = 1
;scale = .175*Helper(999999),Fvar(16),.225*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 500
id = 550

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno = 505 || (root,stateno = 191 && root,AnimElem = 16)
Trigger2 = (root,stateno = 1550 && Root,Time = 42)
Trigger3 = (root,stateno = 1560 && Root,AnimElem = 8)
Trigger4 = (root,stateno = 1561 && Root,AnimElemTime(5)=4)
value = 555

;-------------------------------------------------------------------------------
; Aura - Fin
[Statedef 555]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 550

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .80+(time*.080),.80+(time*.080)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200-(time*30),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 9022
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = time = 20
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Ola
[Statedef 570]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 576
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .15+time*.05,.15+time*.05

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(time*30),256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 2,-20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = Time >= 20
;===============================================================================
; A:
;-------------------------------------------------------------------------------
; A - 1
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 200
poweradd = 250
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 4 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,6
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 20
guardflag = MA
pausetime = 8,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 0,-25
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .20,.20
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 201

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 205

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 200
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 208

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "down_z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 401

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 207

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "down_x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 203

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 2
[Statedef 201]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 201
poweradd = 250
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 6 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,6
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Medium
damage    = 20
guardflag = MA
pausetime = 12,22
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 25
ground.velocity = -3
air.velocity = -2,-1
Fall = 0
fall.recover=  0
Envshake.time = 5

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 10,-25
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .20,.20
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 2000
trigger1 = ailevel = 0 && command = "SPECIAL_6"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 9050

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 2000
trigger1 = ailevel = 0 && command = "SPECIAL_2"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 6000

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 1000
trigger1 = ailevel = 0 && command = "SPECIAL_1"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 8050

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 1500
trigger1 = ailevel = 0 && command = "SPECIAL_5"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 8000

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 202

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 205

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 208

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "down_z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 401

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 207

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "down_x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 203

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 3
[Statedef 202]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 202
poweradd = 250
velset = 0,0
sprpriority = 2

[State 0, Pause]
type = Pause
trigger1 = time = [0,10]
time = 1

[State 5210, 1] ;Blink white
type = PalFX
trigger1 = Time = 10
time = 5
add = 128,128,128

[State 200, Wave FX]
type = Explod
trigger1 = AnimElem = 3
anim = 1055
ID = 1055
postype = P1
pos = 3,-23
facing = -1
sprpriority = 3
removetime = -2
bindtime = 1
ownpal = 1
scale = .55,.55
removeongethit = 1
ontop = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S5,14
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 10
ampl = -2

[State 0, Explod]
type = Explod
trigger1 = time = 13
anim = 1220
ID = 1220
pos = -10,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.15,0.15
sprpriority = 30

[State 0, Explod]
type = Explod
trigger1 = time = 13
anim = 1220
ID = 1220
pos = 10,3
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.15,0.15
sprpriority = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,6
volume = 50

[State 210, 1]
type = HitDef
trigger1 = !Movecontact
attr = S, NA
damage = 50,20
animtype = Heavy
guardflag = MA
Hitflag = MAFD
priority = 3, Hit
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-40
hitsound = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime  = 45
ground.velocity = -4,-6
air.velocity = -4,-6
air.type = High
air.hittime = 12
Fall = 1
Fall.Recover = 0
EnvShake.Time = 6
EnvShake.Ampl = -4
ground.cornerpush.veloff = 0

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "down_x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "down_z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 401

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 207

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 203

[State 203, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 200
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 208

[State 200, End]
type = ChangeState
triggerall = var(13) < 4
triggerall = time > 20
triggerall = power >= 1500
trigger1 = ailevel = 0 && command = "SPECIAL_5"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 8000

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; X:
;-------------------------------------------------------------------------------
[Statedef 203]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 203
poweradd = 250
velset = 0,0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1220
ID = 1220
pos = 0,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.20,0.20
sprpriority = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,6
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Up
damage    = 20
guardflag = MA
pausetime = 8,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7,-4
air.velocity = -7,-4
Fall = 1
Envshake.time = 7

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 10,-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 200
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 208

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 207

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "down_x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 2000
trigger1 = ailevel = 0 && command = "SPECIAL_2"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 6000

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 1500
trigger1 = ailevel = 0 && command = "SPECIAL_5"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 8000

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; X Aire:
[Statedef 204]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 204
poweradd = 250
velset = 0,0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = A
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = -3
y = -2 

[State 0, VelSet]
type = VelSet
trigger1 = time = 10
x = 11
y = -3

[State 0, VelSet]
type = VelSet
trigger1 = time = 20
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,6
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Up
damage    = 40
guardflag = MA
pausetime = 8,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-4
air.velocity = -6,-4
Fall = 1
Envshake.time = 7

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 10,-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 1500
trigger1 = ailevel = 0 && command = "SPECIAL_1"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 8055

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 223

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 207

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; B:
;-------------------------------------------------------------------------------
; B - 1
[Statedef 205]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 205
poweradd = 250
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 3
statetype = A
movetype = A
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 2
y = -2.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,6
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 20
guardflag = MA
pausetime = 9,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-5
air.velocity = -2,-5
Fall = 1
Envshake.time = 5

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 0,-25
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .20,.20
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 206

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 210

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 207

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 204

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 1500
trigger1 = ailevel = 0 && command = "SPECIAL_1"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 8055

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 2
[Statedef 206]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 206
poweradd = 250
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = A
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 4
y = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,6
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Medium
damage    = 20
guardflag = MA
pausetime = 9,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-5
air.velocity = -5,-5
Fall = 1
Envshake.time = 5

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 0,-15
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .20,.20
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 211

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 210

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 207

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 204

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 1500
trigger1 = ailevel = 0 && command = "SPECIAL_1"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 8055

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; Z:
;-------------------------------------------------------------------------------
; Z
[Statedef 207]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 207
poweradd = -500
sprpriority = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,12
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,12
volume = 999


[State aura5]
type = Explod
trigger1 = time = 5
Anim = 581
ID = 580
pos = 0,-20
sprpriority = 5
removeongethit = 1
removetime = -2
bindtime = -1
ownpal = 1
ontop = 1
scale = .3,.3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S4,14
volume = 999

[state 0]
type = posadd
trigger1 = animelem = 3
x = p2bodydist x + 60

[State 0, PosSet]
type = PosSet
trigger1 = animelem = 3
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = S
movetype = A
physics = S

[State 0, Turn]
type = Turn
trigger1 = animelem = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S1,16
volume = 50

[State 0, HitDef]
type = HitDef
trigger1 = !movecontact
attr = S, NA
guardflag = MA
hitflag = MAFDE
animtype = Heavy
damage = 50
pausetime = 12,12
sparkno = -1
sparkxy = -20,-60
guard.sparkno = -1
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -6,-6
air.velocity = -6,-6
Fall = 1
envshake.time = 10

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 0,-15
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .20,.20
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = movehit = 1
x = -2

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "down_x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 200
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 208

[State 200, Combo]
type = ChangeState
triggerall = movecontact
triggerall = power >= 500
trigger1 = command = "down_z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 402

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; C:
;-------------------------------------------------------------------------------
[Statedef 208]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
velset = 0,0
poweradd = -250
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,16

[State 0, VarSet]
type = VarSet
triggerall = prevstateno != 208
trigger1 = time = 0
v = 13
value = 0

[State 0, VarAdd]
type = VarAdd
triggerall = prevstateno = 208
trigger1 = time = 0
v = 13
value = 1

[State 0, Changeanim]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(var(13) = 1||var(13) = 3||var(13) = 5,209,208)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 6
time = 5
ampl = -2

[State 0, Shot FX]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "Shot FX"
ID = 220
stateno = 220
pos = 28,-25
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .14
size.yscale = .14

[State 0, Ki Blast]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "Ki Blast"
ID = 218
stateno = 218
pos = 25,-18-Random%5
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .25
size.yscale = .25

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(13) = 4
trigger1 = time = [7,30]
value = anim
elem = 6

[State 200, Combo]
type = ChangeState
triggerall = power >= 200
triggerall = var(13) < 4
triggerall = time > 8
trigger1 = command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 208

[State 200, Combo]
type = ChangeState
triggerall = power >= 500
triggerall = var(13) < 4
triggerall = time > 8
trigger1 = command = "down_x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 400

[State 200, End]
type = ChangeState
triggerall = power >= 500
triggerall = time > 8
trigger1 = ailevel = 0 && command = "down_z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 401

[State 200, End]
type = ChangeState
triggerall = power >= 500
triggerall = time > 8
trigger1 = ailevel = 0 && command = "z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 207

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Bola de Ki - FX
[Statedef 218]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 218
sprpriority = 3

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 150
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 219
time = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 13
y = 0+(random%2)-(random%2)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = (-vel y)*3
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 405
trigger2 = stateno = 410
id = 001

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Medium
damage    = 25,10
Hitflag = MAFD
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(root,var(13) > 3,-5,-2),ifelse(root,var(13) > 3,-5,0)
air.velocity = ifelse(root,var(13) > 3,-5,-2),ifelse(root,var(13) > 3,-5,-2)
Fall = ifelse(root,var(13) > 3,1,0)
Sprpriority = 3
Envshake.time = 3
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = Changestate
trigger1 = movecontact
trigger2 = pos y >= -5
trigger3 = frontedgebodydist < 0
trigger4 = time = 500
value = 219
;-------------------------------------------------------------------------------
; Bola de Ki - Explosión
[Statedef 219]
type    = S
movetype= I
physics = S
juggle  = 2
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = -1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 001

[State 0, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = -1
length = 60
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 5

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 20
y = 0

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 219
ID = 219
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
Angle = 0+Random%180

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 216
ID = 216
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .15,.15
sprpriority = 3
ontop = 1
ownpal = 1
Angle = 0+Random%180

[State 0, Screen Flash]
type = Explod
triggerall = numexplod(9022) = 0
trigger1 = time = 0
anim = 9022
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 999,999
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; FX Disparo
[Statedef 220]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 220
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H
;===============================================================================
; A Aire:
;-------------------------------------------------------------------------------
[Statedef 210]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 210
poweradd = 250
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,14
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 2
y = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 25
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
Envshake.time = 7

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 10,-15
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .30,.30
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 207

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;===============================================================================
; B Aire:
;-------------------------------------------------------------------------------
; B Aire - 1
[Statedef 211]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 211
poweradd = 250
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,16
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 3
y = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Medium
damage    = 15
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-3
Fall = 0
Envshake.time = 7

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 0,-15
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .20,.20
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 212

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 209

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 207

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 204

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 1500
trigger1 = ailevel = 0 && command = "SPECIAL_1"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 8055

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 223

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; B Aire - 2
[Statedef 212]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 212
poweradd = 250
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,31
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,31
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,31
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 2
y = -3

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = -2
y = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Medium
damage    = 25
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-4
air.velocity = -4,-4
Fall = 1
Envshake.time = 7

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 0,-15
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .20,.20
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 1500
trigger1 = ailevel = 0 && command = "SPECIAL_1"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 8055

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 223

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 207

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 204

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 2500
trigger1 = ailevel = 0 && command = "SPECIAL_4"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7050

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;===============================================================================
; C Aire:
;-------------------------------------------------------------------------------
[Statedef 213]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 213
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,19
channel = 3

[State 0, Dash Brake]
type = VelSet
TriggerAll = PrevStateNo = 110 || PrevStateNo = 115
Trigger1 = Time = 0
x = IfElse(PrevStateNo = 110,1.5,-1.5)

[State 0, VelSet]
type = VelSet
trigger1 = AnimElemTime (3) = 0
x = -.25
y = -2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 3
trigger2 = StateNo != 213
trigger3 = pos y > -3
id = 005

[State 0, Charged Blast - Helper]
type = Helper
trigger1 = Animelem = 3
helpertype = normal
name = "Charged Blast - Helper"
ID = 214
stateno = 214
pos = 26,-17
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .25
size.yscale = .25

[State 0, Shoot FX]
type = Helper
trigger1 = Animelem = 3
helpertype = normal
name = "Shoot FX"
ID = 216
stateno = 216
pos = 10,-28
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .175
size.yscale = .175

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 207

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;===============================================================================
; C Aire B:
;-------------------------------------------------------------------------------
[Statedef 223]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 213
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,19
channel = 3

[State 0, Dash Brake]
type = VelSet
TriggerAll = PrevStateNo = 110 || PrevStateNo = 115
Trigger1 = Time = 0
x = IfElse(PrevStateNo = 110,1.5,-1.5)

[State 0, VelSet]
type = VelSet
trigger1 = AnimElemTime (2) = 0
x = 2
y = -7

[State 0, VelSet]
type = VelSet
trigger1 = AnimElemTime (3) = 0
x = -4
y = -7

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 3
trigger2 = StateNo != 213
trigger3 = pos y > -3
id = 005

[State 0, Charged Blast - Helper]
type = Helper
trigger1 = Animelem = 3
helpertype = normal
name = "Charged Blast - Helper"
ID = 214
stateno = 214
pos = 10,-20
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .25
size.yscale = .25

[State 0, Shoot FX]
type = Helper
trigger1 = Animelem = 3
helpertype = normal
name = "Shoot FX"
ID = 216
stateno = 216
pos = 10,-28
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .125
size.yscale = .125

[State 0, Shoot FX]
type = Helper
trigger1 = Animelem = 3
helpertype = normal
name = "Shoot FX"
ID = 226
stateno = 226
pos = 10,-28
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .125
size.yscale = .125

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 207

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;-------------------------------------------------------------------------------
; Bola de Ki - FX
[Statedef 214]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 214
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,16
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,42

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 60
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 215
time = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 12.5
y = 8

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -30
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 214
trigger2 = stateno = 215
id = 001

[State 200, 1]
type = HitDef
Triggerall = !Movecontact
trigger1 = 1
attr = S, NA
animtype  = Heavy
damage    = 60,25
Hitflag = MAFD
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-5
air.velocity = -3,-5
Fall = 1
Envshake.time = 5
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = Changestate
trigger1 = Movecontact
trigger2 = frontedgebodydist < 0
trigger3 = time = 500
trigger4 = pos y >= 0
value = 215
;-------------------------------------------------------------------------------
; Bola de Ki - Explosión
[Statedef 215]
type    = S
movetype= I
physics = S
juggle  = 2
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 001

[State 0, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = -1
length = 60
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 10
y = 0

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 219
ID = 219
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .20,.20
sprpriority = 3
ontop = 1
ownpal = 1
Angle = 0+Random%180

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 216
ID = 216
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .15,.15
sprpriority = 3
ontop = 1
ownpal = 1
Angle = 0+Random%180

[State 0, Screen Flash]
type = Explod
triggerall = numexplod(9022) = 0
trigger1 = time = 0
anim = 9022
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 999,999
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 8

[State 200, End]
type = Destroyself
trigger1 = animtime = 0

;-------------------------------------------------------------------------------
; FX Disparo
[Statedef 216]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 220
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 22,-18

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; FX Disparo 2
[Statedef 226]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 220
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 22,-18

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H
;===============================================================================
; Persecución - Inicio
;-------------------------------------------------------------------------------
[Statedef 300]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 300
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S500,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,95

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,95

[State 0, VelSet]
type = VelSet
trigger1 = Time = [0,10]
y = -.5

[State 0, VelSet]
type = VelSet
TriggerAll = Time = 10
trigger1 = 1
x = 17.5
Y = 0

[State 0, VelSet]
type = VelSet
TriggerAll = Time >= 10
trigger1 = ailevel = 0 && command = "holdup"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100) && p2dist y < 0
y = -3.5

[State 0, VelSet]
type = VelSet
TriggerAll = Time >= 10
trigger1 = ailevel = 0 && command = "holddown"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100) && p2dist y > 0
y = 3.5

[State 0, VelSet]
type = VelSet
TriggerAll = pos y >= -2.5
Trigger1 = vel y >= 1
y = 0

[State 0, Persecución Limite]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Persecución Limite"
ID = 315
stateno = 315
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Aura FX1]
type = Explod
trigger1 = Time = 10
anim = 5520
ID = 005
pos = 7,-5
scale = .9,.8
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
removeongethit = 1
sprpriority = 0
ontop = 0
ownpal = 1
trans = addalpha
alpha = 256,256

[State 0, Aura FX2]
type = Explod
trigger1 = Time = 10
anim = 197
ID = 05
pos = -10,0
scale = .3,.2
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
removeongethit = 1
sprpriority = 2
ontop = 1
ownpal = 1
trans = addalpha
alpha = 156,256

[State 0, Aura FX3]
type = Explod
trigger1 = Time = 10
anim = 197
ID = 005
pos = -20,5
scale = .35,.25
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
removeongethit = 1
sprpriority = 1
ontop = 0
ownpal = 1
trans = addalpha
alpha = 256,256

[State 0, Aura FX2.1]
type = Explod
trigger1 = Time = 10
anim = 553
ID = 005
pos = 27,-35
scale = .5,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
removeongethit = 1
sprpriority = 2
ontop = 0
ownpal = 1
trans = addalpha
alpha = 100,256

[State 0, Carga]
type = Explod
trigger1 = AnimElem = 1
anim = 310
ID = 005
pos = 0,-25
scale = .07,.085
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
Trans = Add

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo != 300
id = 005

[State 0, Persecución Ola]
type = Explod
trigger1 = AnimElem = 4
anim = 116
ID = 116
pos = 5,-25
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .25,.25
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -.5,0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 15,7
guardflag = MA
pausetime = 10,10
Guard.PauseTime = 8,4
sparkno = -1
guard.sparkno = -1
hitsound   = S1,7
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -.5,-5
air.velocity = -.5,-5
Fall = 1
envshake.time = 5

[State 0, Hit Spark]
type = Explod
trigger1 = numexplod(7000) = 0 && movehit = 1
anim = 7001
ID = 7000
pos = 20,-30
postype = p1
scale = .30,.35
sprpriority = 2
ownpal = 1
ignorehitpause = 1
supermove = 1
[State 0, Hit Spark]
type = Explod
trigger1 = numexplod(7000) = 0 && movehit = 1
anim = 7001
ID = 7000
pos = 20,-30
postype = p1
scale = .30,.35
sprpriority = 2
ownpal = 1
ignorehitpause = 1
supermove = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .15,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, Success!]
type = ChangeState
trigger1 = Time >= 10 && MoveHit
value = 305
ctrl = 0

[State 200, Fail~/Blocked~]
type = ChangeState
trigger1 = Time >= 30
trigger2 = frontedgebodydist < 5
trigger3 = MoveGuarded
value = 310
ctrl = 0
;-------------------------------------------------------------------------------
; Persecución - Golpe
[Statedef 305]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 305
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 005

[State 0, Dash Brake]
type = VelSet
trigger1 = Time = 0
x = 2
y = -5

[State 200, End]
type = ChangeState
Triggerall = Time >= 1
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 211

[State 200, End]
type = ChangeState
Triggerall = Time >= 1
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 210

[State 200, End]
type = ChangeState
Triggerall = Time >= 1
Triggerall = Power >= 500
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 213

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 204

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Persecución - Fin
[Statedef 310]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 305
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 005

[State 0, Dash Brake]
type = VelSet
trigger1 = Time = 0
x = -.5
y = -2.5

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------
; Persecución - Limite encendido
[Statedef 315]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 3

[State 0,  ADD ONE]
type = ParentVarAdd
trigger1 = Time = 0
v = 53
value = 1

[State 200, End]
type = ChangeState
trigger1 = root,pos y >= 0
value = 320
;-------------------------------------------------------------------------------
; Persecución - Limite Apagado
[Statedef 320]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 3

[State 0,  SET TO ZERO]
type = ParentVarSet
trigger1 = Time = 0
v = 53
value = 0

[State 200, End]
type = Destroyself
trigger1 = Time = 0
;===============================================================================
; Bola de Ki Piso:
;-------------------------------------------------------------------------------
[Statedef 400]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 400
poweradd = -500
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,16

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 5
ampl = -3

[State 0, Shot FX]
type = Helper
trigger1 = time = 12
helpertype = normal
name = "Shot FX"
ID = 412
stateno = 412
pos =  p2bodydist x + 35,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .18
size.yscale = .18

[State 0, Ki Blast]
type = Helper
trigger1 = time = 12
helpertype = normal
name = "Ki Blast"
ID = 410
stateno = 410
pos =  p2bodydist x + 45,-6
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .25
size.yscale = .25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 999

[State 200, Combo]
type = ChangeState
triggerall = var(13) < 4
triggerall = time > 11
triggerall = power >= 500
trigger1 = command = "down_z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 401

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;===============================================================================
;Patada:
;---------------------------------------------------------------------------
[Statedef 401]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -500
ctrl = 0
anim = 401

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S4,14
volume = 999

[State aura5]
type = Explod
trigger1 = time = 6
Anim = 581
ID = 580
pos = 0,-20
sprpriority = 5
removeongethit = 1
removetime = -2
bindtime = -1
ownpal = 1
ontop = 1
scale = .3,.3

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A
movetype = A
physics = A

[State 0, Turn]
type = Turn
trigger1 = animelem = 3

[state 0]
type = posadd
trigger1 = animelem = 3
x = p2bodydist x - 60
y = p2bodydist y - 60

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
value = S5,4
volume = 50

[State 610, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 25,8
animtype = Hard
guardflag = MA
hitflag = MAFDE
priority = 3, Hit
pausetime = 10, 10
sparkno = -1
guard.sparkno = -1
sparkxy = -10, -12
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 25
ground.hittime  = 12
ground.velocity = -7,9
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -6,10
air.hittime = 12
envshake.time = 8
getpower=  15,10
givepower=  10,5
fall = 1
fall.recover=  0

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 10,-15
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .30,.30
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 7
y = 6

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;===============================================================================
;Patada 2:
;---------------------------------------------------------------------------
[Statedef 402]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -500
ctrl = 0
anim = 401

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S4,14
volume = 999

[State aura5]
type = Explod
trigger1 = time = 6
Anim = 581
ID = 580
pos = 0,-20
sprpriority = 5
removeongethit = 1
removetime = -2
bindtime = -1
ownpal = 1
ontop = 1
scale = .3,.3

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A
movetype = A
physics = A

[State 0, Turn]
type = Turn
trigger1 = animelem = 3

[state 0]
type = posadd
trigger1 = animelem = 3
x = p2bodydist x - 95
y = p2bodydist y - 65

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
value = S5,4
volume = 50

[State 610, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 25,8
animtype = Hard
guardflag = MA
hitflag = MAFDE
priority = 3, Hit
pausetime = 10, 10
sparkno = -1
guard.sparkno = -1
sparkxy = -10, -12
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 25
ground.hittime  = 12
ground.velocity = -7,9
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -6,10
air.hittime = 12
envshake.time = 8
getpower=  15,10
givepower=  10,5
fall = 1
fall.recover=  0

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 10,-15
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .30,.30
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 7
y = 6

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Bola de Ki - FX
[Statedef 410]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 410
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 150
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 411
time = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -13

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 412
trigger2 = stateno = 410
id = 001

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, NP
animtype  = Heavy
damage    = 60,25
hitflag = MAFDE
guardflag = MA
pausetime = 1,2
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-8
air.velocity = -1,-8
Fall = 1
fall.recover = 0
Envshake.time = 5
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256


[State 200, End]
type = Changestate
trigger1 = movecontact
trigger2 = time = 30
value = 411
;-------------------------------------------------------------------------------
; Bola de Ki - Explosión
[Statedef 411]
type    = S
movetype= I
physics = S
juggle  = 2
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = -1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 001

[State 0, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = -1
length = 60
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 5

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 20
y = 0

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 219
ID = 219
pos = -25,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 216
ID = 216
pos = -25,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .15,.15
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Explosión Blanco]
type = Explod
triggerall = numexplod(9022) = 0
trigger1 = time = 0
anim = 9022
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 999,999
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; FX Disparo
[Statedef 412]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 220
sprpriority = 3

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 415
ID = 415
pos = -3,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.3,0.3
vel = 0,0
sprpriority = 0
ontop = 0
ownpal = 0
removeongethit = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H
;===============================================================================
; Agarrar:
;-------------------------------------------------------------------------------
[Statedef 3280]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 800
velset = 0,0
sprpriority = 0

[State 800, 1]
type = Hitdef
triggerall = P2BodyDist X < 40
trigger1 = AnimElem = 1
attr = S, SP
givepower = 0
getpower = 0
guardflag =
hitflag = M-
sparkno = -1
sparkxy = -10,-70
hitsound = -1
pausetime = 0,0
p1stateno = 3281
p2facing = 1
p1facing = ifelse(command = "holdfwd",1,-1)
p2stateno = 3270
fall.recover = 0
fall = 1
fall.recover = 0
down.bounce = 0

[State 900, Tech Reset]
type = varset
trigger1 = Time = 0
var(20) = 7

[State 900, Tech Set]
type = varset
trigger1 = Time = 1
trigger1 = EnemyNear, MoveType = A
var(20) = 0

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 207

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = command = "down_z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 402

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Agarrar - 2
[Statedef 3281]
type = S
movetype= A
physics = N
anim = 801
poweradd = 100
sprpriority = 5

[State 0, ]
type = posadd
trigger1 = time = 0
x = -20

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 20,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Unguardable

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SP
animtype  = Medium
damage    = 0,0
Hitflag = MAFDE
guardflag = MA
pausetime = 5,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S5,7
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 0
Fall.recover = 0
getpower = 0,0
p1stateno = 3282
p2stateno = 1205

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 207

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 500
trigger1 = command = "down_z"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 402

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Super Tornado - Vueltas
[Statedef 3282]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 802
sprpriority = 2

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 0,-15
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .18,.18
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,21
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,21
volume = 999

[State 0, Turn]
type = Turn
trigger1 = animelem = 6

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 15
statetype = A
movetype = I
physics = A

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 1
pos = 20,0

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 2
pos = 25,-5

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 3
pos = -80,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = 7015
ID = 1051
pos = 5,9
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,1
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = 2
y = ifelse(pos y < 0,-2,-3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S60,1
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S2,1
volume = 50

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Super Tornado - J2
[Statedef 1205]
type    = S
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = -1
facep2 = 1


[State 0, Turn]
type = Turn
trigger1 = enemy,animelem = 3

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5000+ifelse(authorname = "IsackMuGeN",var(10),0)
elem = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 200, End]
type = ChangeState
trigger1 = enemy,animelem = 3
value = 1206
;-------------------------------------------------------------------------------
; Super Tornado - P2 Hacia la Pared
[Statedef 1206]
type    = S
movetype= H
physics = N
juggle  = 1
velset = -10,-1
ctrl = 0
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -10

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5030+ifelse(authorname = "IsackMuGeN",var(10),0)
elem = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist <= 5
trigger2 = time = 30
value = 1207
;-------------------------------------------------------------------------------
; Super Tornado - P2 Coque Pared
[Statedef 1207]
type    = S
movetype= H
physics = A
juggle  = 1
velset = 2,-5
ctrl = 0
sprpriority = 2

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -40

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 200, End]
type = Selfstate
trigger1 = time = 1
value = 5050
;-------------------------------------------------------------------------------
; Contra la Pared J2 - FX
[Statedef 1250]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,10
volume = 50

[State 0, Tierra Pared]
type = Explod
trigger1 = time = 0
anim = 8250
ID = 8250
pos = -15,0
postype = p1
vel = -2,-2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .25,.25
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 200, End]
type = Destroyself
trigger1 = time = 1
;===============================================================================
; Ataque Kaioken:
;-------------------------------------------------------------------------------
[Statedef 6000]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
poweradd= -2000
anim = 6000
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 31
value = S600,0
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 31
value = S600,0
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 31
value = S600,0
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 31
value = S600,0
volume = 999

[State 0, Armadura]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "Armadura"
ID = 9000
stateno = 9000
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S500,1
volume = 50
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,1
volume = 999

[State 0, Viento]
type = Explod
trigger1 = time = 16
anim = 1220
ID = 1220
pos = -7,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.18,0.19
vel = -0.5,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 1
pausemove = 1

[State 0, Viento]
type = Explod
trigger1 = time = 16
anim = 1220
ID = 1220
pos = 0,-3
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.18,0.19
vel = 0.5,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermove = 1
pausemove = 1

[State 0, Super]
type = Explod
trigger1 = time = 0
anim = 9998
ID = 9998
pos = 2,-17
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
removetime = -2
supermove = 1
pausemove = 1
ontop = 1
ownpal = 1
removeongethit = 1
scale = 0.25,0.25
sprpriority = 15

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 25
movetime = 25
anim = -1
sound = S0,3
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 5210, 1]
type = PalFX
trigger1 = Time = 16
time = 7
add = 128,128,128

[State 0, Ola]
type = Helper
trigger1 = Time = 16
helpertype = normal
name = "Ola"
ID = 570
facing = 1
stateno = 570
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1
Supermovetime = 999

[State 0, Aura]
type = Helper
trigger1 = time = 21
helpertype = normal
name = "Aura 1"
ID = 650
stateno = 650
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4
[State 0, Aura]
type = Helper
trigger1 = time = 21
helpertype = normal
name = "Aura 1"
ID = 650
stateno = 650
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 200, End]
type = ChangeState
trigger1 = time = 51
value = 6002

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Aura Kaioken
[Statedef 650]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1580
sprpriority = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-20

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = time = 31
value = 655
;-------------------------------------------------------------------------------
; Aura Kaioken - Fin
[Statedef 655]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 650
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 651
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 652
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 653
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 654
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 655

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-20

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .80+(time*.080),.80+(time*.080)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200-(time*30),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = time = 20
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Ataque Kaioken Desactivar
[Statedef 6001]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 6001
velset = 0,0
sprpriority = 2

[State 0, Armadura]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "Armadura"
ID = 9000
stateno = 9000
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S500,3
volume = 50

[State 5210, 1]
type = PalFX
trigger1 = Time = 7
time = 7
add = 128,128,128

[State 0, Ola]
type = Helper
trigger1 = Time = 7
helpertype = normal
name = "Ola"
ID = 570
facing = 1
stateno = 570
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Aura]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Aura"
ID = 651
stateno = 651
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Aura Kaioken Desactivar
[Statedef 651]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1580
sprpriority = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-20

;[State 0, AngleDraw]
;type = AngleDraw
;trigger1 = 1
;value = 1
;scale = .175*Helper(999999),Fvar(16),.225*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = time = 12
value = 655
;-------------------------------------------------------------------------------
; Ataque Kaioken 1
[Statedef 6002]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 6002
velset = 0,0
sprpriority = 2

[State 0, Viento]
type = Explod
trigger1 = time = 7
anim = 1220
ID = 550
pos = 0,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.20,0.21
vel = -2,0
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Aura]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Aura 2"
ID = 652
stateno = 652
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4
[State 0, Aura]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Aura 2"
ID = 652
stateno = 652
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 0, VelSet]
type = VelSet
trigger1 = time = 7
x = 20 

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 10,-5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .20,.20
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SP
animtype  = Light
damage    = 20
guardflag = MA
hitflag = MAF
pausetime = 8,9
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Kill = 0
Envshake.time = 5
fall.recover = 0

[State 200, End]
type = ChangeState
trigger1 = movehit
value = 6003

[State 200, End]
type = ChangeState
trigger1 = time = 37
value = 6001

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Aura Kaioken 1
[Statedef 652]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1580
sprpriority = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-20

;[State 0, AngleDraw]
;type = AngleDraw
;trigger1 = 1
;value = 1
;scale = .175*Helper(999999),Fvar(16),.225*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = time = 30
value = 655
;-------------------------------------------------------------------------------
; Ataque Kaioken 2
[Statedef 6003]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 6003
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S10,0
volume = 999

[State 0, Aura]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Aura 3"
ID = 653
stateno = 653
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4
[State 0, Aura]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Aura 3"
ID = 653
stateno = 653
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4

[State aura5]
type = Explod
trigger1 = time = 40
Anim = 581
ID = 580
pos = 0,-20
sprpriority = 5
removeongethit = 1
removetime = -2
bindtime = -1
ownpal = 1
ontop = 1
scale = .25,.25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S4,14
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 23
value = S0,8

[State 0, Explod]
type = Explod
trigger1 = time = 25
anim =1222
ID = 1222
pos = 1,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.35,0.30
sprpriority = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 10
x = 9
y = -3.5

[State 1010, 5]
type = VelSet
trigger1 =time > 15
y = 2.5
x = 1.5

[State 1010, 5]
type = VelSet
trigger1 =time > 24
y = 0
x = 0

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 10,-35
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .20,.20
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = !movecontact
attr = S, SP
guardflag = MA
animtype = down
damage = 50
pausetime = 12,12
sparkno = -1
guard.sparkno = -1
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -4,2
air.velocity = -4,2
Fall = 1
Fall.recover = 0
down.bounce = 1
fall.yvelocity = -10
Kill = 0
Envshake.time = 5

[State 200, End]
type = ChangeState
trigger1 = time = 45
value = 6004

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Aura Kaioken 2
[Statedef 653]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1580
sprpriority = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-20

;[State 0, AngleDraw]
;type = AngleDraw
;trigger1 = 1
;value = 1
;scale = .175*Helper(999999),Fvar(16),.225*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = time = 50
value = 655
;-------------------------------------------------------------------------------
; Ataque Kaioken 3
[Statedef 6004]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 6004
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,22
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,22
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,22
volume = 999

[State 0, Aura]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Aura 4"
ID = 654
stateno = 654
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4
[State 0, Aura]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Aura 4"
ID = 654
stateno = 654
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4

[State aura5]
type = Explod
trigger1 = time = 0
Anim = 581
ID = 580
pos = 0,-20
sprpriority = 5
removeongethit = 1
removetime = -2
bindtime = -1
ownpal = 1
ontop = 1
scale = .25,.25

[State 0, Turn]
type = Turn
trigger1 = animelem = 1

[state 0]
type = posadd
trigger1 = animelem = 1
x = p2bodydist x - 60
y = -60

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = -5,-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .20,.20
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 6005, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SP
damage = 10,2
animtype = Light
guardflag = MA
hitflag = MAFDE
priority = 3, Hit
pausetime = 5,6
sparkno = -1
sparkxy = -10, -16
hitsound = s0,29
guardsound = 6, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5,-8
air.velocity = -5,-8
airguard.velocity = -1.9,-.8
air.type = High
air.hittime = 12
ENVSHAKE.TIME = 5
GETPOWER = 15,10
GIVEPOWER = 10,5
Kill = 0
Fall = 1
fall.recover = 0

[State 200, End]
type = ChangeState
trigger1 = time = 32
value = 6005

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Aura Kaioken 3
[Statedef 654]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1580
sprpriority = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-20

;[State 0, AngleDraw]
;type = AngleDraw
;trigger1 = 1
;value = 1
;scale = .175*Helper(999999),Fvar(16),.225*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = time = 26
value = 655
;-------------------------------------------------------------------------------
; Ataque Kaioken 4
[Statedef 6005]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 6005
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,29
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,29
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,29
volume = 999

[State 0, Aura]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "Aura 5"
ID = 665
stateno = 665
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .5
[State 0, Aura]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "Aura 5"
ID = 665
stateno = 665
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .5

[State aura5]
type = Explod
trigger1 = time = 5
Anim = 581
ID = 580
pos = 0,-20
sprpriority = 5
removeongethit = 1
removetime = -2
bindtime = -1
ownpal = 1
ontop = 1
scale = .3,.3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S4,14
volume = 999

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 1
statetype = A
movetype = A
physics = A

[State 0, Turn]
type = Turn
trigger1 = animelem = 1

[state 0]
type = posadd
trigger1 = animelem = 1
x = p2bodydist x - 120
y = -110

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 7
y = 6

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 0,-25
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .20,.20
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 610, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SP
animtype = up
damage = 25,8
guardflag = MA
hitflag = MAFDE
priority = 3, Hit
pausetime = 10, 10
sparkno = -1
guard.sparkno = -1
sparkxy = -10, -12
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 25
ground.hittime  = 12
ground.velocity = -7,9
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -6,3
air.hittime = 12
envshake.time = 8
getpower=  15,10
givepower=  10,5
fall = 1
fall.recover=  0
Kill = 0

[State 200, End]
type = ChangeState
trigger1 = movehit
value = 6006

[State 200, End]
type = ChangeState
trigger1 = time = 90
value = 6001

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Aura Kaioken 4
[Statedef 665]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1580
sprpriority = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 43
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 10,-20

;[State 0, AngleDraw]
;type = AngleDraw
;trigger1 = 1
;value = 1
;scale = .175*Helper(999999),Fvar(16),.225*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = time = 7
value = 655
;-------------------------------------------------------------------------------
; Ataque Kaioken 5
[Statedef 6006]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 6006
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,30
volume = 999

[State 0, Pause]
type = Pause
trigger1 = time = [10,20]
time = 1

[State 0, Viento]
type = Explod
trigger1 = time = 10
anim = 1220
ID = 1220
pos = -7,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.18,0.19
vel = -0.5,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Viento]
type = Explod
trigger1 = time = 10
anim = 1220
ID = 1220
pos = 0,-3
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.18,0.19
vel = 0.5,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
pos = 12,-45
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .10,.10
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State aura5]
type = Explod
trigger1 = time = 5
Anim = 581
ID = 580
pos = 0,-20
sprpriority = 5
removeongethit = 1
removetime = -2
bindtime = -1
ownpal = 1
ontop = 1
scale = .25,.25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S4,14
volume = 999

[State 0, Turn]
type = Turn
trigger1 = animelem = 1

[state 0]
type = posadd
trigger1 = animelem = 1
x = p2bodydist x - 80

[State 0, PosSet]
type = PosSet
trigger1 = animelem = 1
y = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SP
animtype  = Light
damage    = 40
guardflag = MA
pausetime = 8,28
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5
fall.recover=  0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; Mini Genkidama:
;-------------------------------------------------------------------------------
[StateDef 6050]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6050
poweradd = -1500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S600,3
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S600,3
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S600,3
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S600,3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S10,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S10,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S10,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S10,2
volume = 999

[State 0, Armadura]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "Armadura"
ID = 9000
stateno = 9000
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Super]
type = Explod
trigger1 = time = 0
anim = 9998
ID = 9998
pos = 2,-17
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
removetime = -2
supermove = 1
pausemove = 1
ontop = 1
ownpal = 1
removeongethit = 1
scale = 0.25,0.25
sprpriority = 15

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = S0,3
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Carga Genkidama]
type = Helper
trigger1 = Time = 40
helpertype = normal
name = "Carga Genkidama"
ID = 6064
stateno = 6064
facing = 1
postype = p1
ownpal = 1
size.xscale = .2
size.yscale = .3
[State 0, Carga Genkidama]
type = Helper
trigger1 = Time = 40
helpertype = normal
name = "Carga Genkidama"
ID = 6064
stateno = 6064
facing = 1
postype = p1
ownpal = 1
size.xscale = .2
size.yscale = .3

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 45
v = 15 
value = 1

[State 105,6]
type = PalFX
trigger1 = time = 38
time = 7
add = 255,255,255
sinadd = -255,-255,-255,57

[State 0, Ola]
type = Helper
trigger1 = Time = 38
helpertype = normal
name = "Ola"
ID = 570
facing = 1
stateno = 570
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 2000, end]
type = ChangeState
trigger1 = time=135
value = 6051
ctrl = 1
;-------------------------------------------------------------------------------
; Mini Genkidama Absorber Energia
[Statedef 6064]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6054
sprpriority = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 2150-time*25,256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,40

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Destroyself
trigger1 = Time >= 90
;-------------------------------------------------------------------------------
; Mini Genkidama Fin
[StateDef 6051]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6051
sprpriority = 2

[State 0, Armadura]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "Armadura"
ID = 9000
stateno = 9000
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 2000, end]
type = ChangeState
trigger1 = time=10
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Mini Genkidama Carga en la Mano
[Statedef 6052]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6052
sprpriority = 2

[State 0, Armadura]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "Armadura"
ID = 9000
stateno = 9000
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S0,17
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S10,6
volume = 50
channel = 3

[State 0, Ola]
type = Helper
trigger1 = Time = 59
helpertype = normal
name = "Ola"
ID = 570
facing = 1
stateno = 570
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 105,6]
type = PalFX
trigger1 = time = 58
time = 3
add = 255,255,255
sinadd = -255,-255,-255,37

[State 0, Genkidama Puño]
type = Helper
trigger1 = time = 2
helpertype = normal
name = "Genkidama Puño"
ID = 6063
stateno = 6063
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .04
size.yscale = .05

[State 0, Varset]
type = Varset
trigger1 = time=10
v = 15
value = 0

[State 200, End] ; NORMAL
type = ChangeState
triggerall = var(3) = 0
triggerall = time >= 30
trigger1 = ailevel = 0 && command != "hold_b"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && p2bodydist x >= 100 && p2bodydist x < 300 && time >= 30+random%60
trigger4 = time = 90
value = ifelse(time >= 60,6054,6053)

[State 200, End] ; FULL POWER
type = ChangeState
triggerall = var(3) = 1
triggerall = time >= 30
trigger1 = ailevel = 0 && command != "hold_b"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && p2bodydist x >= 100 && p2bodydist x < 300 && time >= 30+random%60
trigger4 = time = 90
value = ifelse(time >= 60,6053,6054)
;-------------------------------------------------------------------------------
; Mini Genkidama Carga en la Mano FX
[Statedef 6063]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 6056
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 11,-36

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 6052
trigger2 = time >= 57
;-------------------------------------------------------------------------------
; Mini Genkidama Lanzamiento 1
[Statedef 6053]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 60530
sprpriority = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 6052
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,17
volume = 999

[State 0, Ola]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Ola"
ID = 570
facing = 1
stateno = 570
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 105,6]
type = PalFX
trigger1 = time = 0
time = 3
add = 255,255,255
sinadd = -255,-255,-255,37

[State 0, Explod]
type = Explod
trigger1 = time = 55
anim = 1220
ID = 1220
pos = 0,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
vel = -0.5,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.18,0.19
sprpriority = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S600,4
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S600,4
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S600,4
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S600,4
volume = 999

[State 0, Genkidama Carga]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "Genkidama Carga"
ID = 6055
stateno = 6055
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .08
size.yscale = .08

[State 0, Genkidama Carga]
type = Helper
trigger1 = time = 55
helpertype = normal
name = "Genkidama"
ID = 6061
stateno = 6061
pos = 20,-20
postype = p1
ownpal = 1
size.xscale = .13
size.yscale = .13

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Mini Genkidama FX 1
[Statedef 6055]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6055
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,5
volume = 50

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -10,-47

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = 0+time*.1,0+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 99999

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 6053
trigger2 = root,stateno = 6053 && root,time >= 56
;-------------------------------------------------------------------------------
; Mini Genkidama Lanzamiento 2
[Statedef 6054]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6053
sprpriority = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 6052
channel = 3

[State 0, Explod]
type = Explod
trigger1 = time = 45
anim = 1220
ID = 1220
pos = 0,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
vel = -0.5,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.20,0.21
sprpriority = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S600,4
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S600,4
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S600,4
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S600,4
volume = 999

[State 0, Genkidama Carga]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Genkidama Carga"
ID = 6056
stateno = 6056
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .08
size.yscale = .08

[State 0, Genkidama Carga]
type = Helper
trigger1 = time = 45
helpertype = normal
name = "Genkidama"
ID = 6057
stateno = 6057
pos = 20,-20
postype = p1
ownpal = 1
size.xscale = .13
size.yscale = .13

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Mini Genkidama FX 2
[Statedef 6056]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6055
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,5
volume = 50

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -10,-47

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = 0+time*.1,0+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 99999

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 6054
trigger2 = root,stateno = 6054 && root,time >= 46
;-------------------------------------------------------------------------------
; Mini Genkidama Lanzamiento 2
[Statedef 6057]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6055
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,15
volume = 50

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 6055
elem = 27

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 15

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SP
animtype  = Heavy
damage    = 0
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 0
Hitflag = MAFDE

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 200, End]
type = ChangeState
trigger1 = movehit
value = 6059

[State 200, End]
type = ChangeState
trigger1 = moveguarded
trigger2 = time >= 500
trigger3 = frontedgebodydist < 0
value = 6058
;-------------------------------------------------------------------------------
; Mini Genkidama Lanzamiento 2 Fin
[Statedef 6058]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,26
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 6060
ID = 6060
pos = 0,0
postype = p1
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; Mini Genkidama Agarre
[Statedef 6059]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
anim = 6055
sprpriority = -2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 6055
elem = 27

[State 200, Spark CVS]
type = Explod
trigger1 = Time = [0,50]
anim = 6058
ID = 6058
postype = P2
pos = -10+random%30,-50+random%30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .05,.05
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,15

[State 0, VelSet]
type = VelSet
trigger1 = time = 10
y = -3.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.1,1.1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
ignorehitpause = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 150
pos = 3,20
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = !time
attr = S, SP
damage = 50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,50
sparkno = -1
guard.sparkno = -1
sparkxy = -10, -76
hitsound = -1
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -3
air.type = High
air.velocity = 0
air.hittime = 12
sprpriority = -2

[State 200, 5]
type = ChangeState
trigger1 = time = 30
value = 6060
ctrl = 1
;-------------------------------------------------------------------------------
; Mini Genkidama Agarre Arriba
[Statedef 6060]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6059
sprpriority = 3

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 10
value = S1,12
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time < 10
time = 20

[State 0, Explosion]
type = Explod
trigger1 = time < 10
anim = 6060
ID = 6060
pos = -15+random%30,-15+random%30
postype = p1
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
trans = addalpha
alpha = 200,256

[State 200, 1]
type = HitDef
trigger1 = 1
attr = S, SP
animtype  = Heavy
damage    = 22,6
Hitflag = MAFDE
guardflag = MA
pausetime = 7,15
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-6
air.velocity = -2,-6
Fall = 1
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, End]
type = Destroyself
trigger1 = time = 5
;-------------------------------------------------------------------------------
; Mini Genkidama Lanzamiento 1
[Statedef 6061]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6055
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,15
volume = 50

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 6055
elem = 27

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 15

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SP
animtype  = Heavy
damage    = 0
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 0
Hitflag = MAFDE

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-25
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, EXPLOTA]
type = ChangeState
trigger1 = movehit
value = 6062

[State 200, End]
type = ChangeState
trigger1 = moveguarded
trigger2 = time >= 500
trigger3 = frontedgebodydist < 0
value = 6058
;-------------------------------------------------------------------------------
; Mini Genkidama Lanzamiento 1 Fin
[Statedef 6062]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6059

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,26
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 6060
ID = 6060
pos = 0,0
postype = p1
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1

[State 200, 1]
type = HitDef
trigger1 = 1
attr = S, SP
animtype  = Heavy
damage    = 22,6
Hitflag = MAFDE
guardflag = MA
pausetime = 7,15
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Fall = 1
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, End]
type = Destroyself
trigger1 = time = 1
;===============================================================================
; Genkidama:
;-------------------------------------------------------------------------------
; Genkidama Inicio
[Statedef 7050]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 7050
poweradd = -2500
sprpriority = 2

[State 0, Aura Genkidama]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Aura Genkidama"
ID = 7051
stateno = 7051
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .36
size.yscale = .37
Supermovetime = 999

[State 0, Ola]
type = Helper
trigger1 = Time = 125
helpertype = normal
name = "Luz"
ID = 7053
facing = 1
stateno = 7053
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = .04
size.yscale = .04
Supermovetime = 999

[State 0, Cho Genkidama]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Genkidama Carga"
ID = 7054
stateno = 7054
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .037
size.yscale = .037
Supermovetime = 999
sprpriority = 15

[State 0, Cho Genkidama]
type = Helper
trigger1 = time = 155
helpertype = normal
name = "Genkidama Lanzamiento"
ID = 7055
stateno = 7055
pos = 3,-157
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .037
size.yscale = .037
sprpriority = 15

[State 0, Armadura]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "Armadura"
ID = 9000
stateno = 9000
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Ola]
type = Helper
trigger1 = Time = 16
helpertype = normal
name = "Ola"
ID = 570
facing = 1
stateno = 570
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1
Supermovetime = 999

[State 105,6]
type = PalFX
trigger1 = time = 15
time = 7
add = 255,255,255
sinadd = -255,-255,-255,57

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,51
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,51
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,51
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 125
value = S0,22
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 125
value = S0,22
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 125
value = S0,22
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S0,45
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S0,45
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S0,45
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S5,31
volume = 10
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = S10,4
volume = 999
channel = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = S10,4
volume = 999
channel = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = S10,4
volume = 999
channel = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = S10,4
volume = 999
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 140
value = S5,32
volume = 999

;---------------------
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 155
movetime = 155
anim = -1
sound = s0,3
pos = 32,-80
darken = 0
unhittable = 1
;---------------------

[State 0, Super]
type = Explod
trigger1 = time = 0
anim = 9998
ID = 9998
pos = 2,-17
postype = p1
facing = 1
vfacing = 1
bindtime = 1
velocity = 0,-.3
removetime = -2
removetime = -2
supermove = 1
pausemove = 1
ontop = 1
ownpal = 1
removeongethit = 1
scale = 0.25,0.25
sprpriority = 15

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
y = -.4

[State 0, VelSet]
type = VelSet
trigger1 = time = 120
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 155
x = -2
y = -1

[State 0, VelSet]
type = VelSet
trigger1 = time = 165
x = 0
y = 0

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 125 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 200, End]
type = ChangeState
trigger1 = time = 370
value = 7150

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Genkidama Fin
[Statedef 7150]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 7150
poweradd = -3000
velset = 0,0
sprpriority = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 7050
channel = 3

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 0
statetype = A
movetype = A
physics = A

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Aura Genkidama Inicio
[Statedef 7051]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,-2
ctrl = 0
anim = 7051
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -3,-10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = time = 115
value = 7052
;-------------------------------------------------------------------------------
; Aura Genkidama Fin
[Statedef 7052]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7051
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -3,-10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200-(time*20),256

[State 200, End]
type = Destroyself
trigger1 = time = 10
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Luz Genkidama Terminada
[Statedef 7053]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7053
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 4,-40

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 7050

[State 200, End]
type = Destroyself
trigger1 = Time >= 15
;-------------------------------------------------------------------------------
; Genkidama Carga
[Statedef 7054]
type    = A
movetype= A
physics = N
anim = 7054
sprpriority = 3

[State 0, Genkidama Partícula]
type = Helper
triggerall = time < 50
trigger1 = timemod = 3,0
helpertype = normal
name = "Genkidama Partícula"
ID = 7058
stateno = 7058
pos = -200+random%200,170
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .0095
size.yscale = .0095
Supermovetime = 999
[State 0, Genkidama Partícula]
type = Helper
triggerall = time < 50
trigger1 = timemod = 3,0
helpertype = normal
name = "Genkidama Partícula"
ID = 7058
stateno = 7058
pos = 0+random%200,170
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = .0095
size.yscale = .0095
Supermovetime = 999

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 3,-157

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,35;33
volume = 50
Channel = 7
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,35;33
volume = 50
Channel = 8

[State 0, VarAdd]
type = VarAdd
trigger1 = time < 75
Fv = 1
value = .125

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+Fvar(1),1+Fvar(1)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 7050

[State 200, End]
type = Destroyself
trigger1 = time = 135
;-------------------------------------------------------------------------------
; Genkidama Lanzamiento
[Statedef 7055]
type    = A
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 7054
sprpriority = 3

[State 0, Viento]
type = Explod
triggerall = pos y >= -80
trigger1 = timemod = 5,0
anim = 1220
ID = 550
pos = 0,70
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .40,.40
vel = -2,0
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
supermove = 999
supermovetime = 999

[State 0, Viento]
type = Explod
triggerall = pos y >= -80
trigger1 = timemod = 5,0
anim = 1220
ID = 550
pos = 30,60
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .40,.40
vel = 2,0
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 999
supermovetime = 999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 9,9

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 10
y = 10

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= -80
x = 1.1
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = frontedgebodydist < 0
x = .25

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -80
y = -60

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 20,0
time = 20
Ampl = -2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 200, 1]
type = HitDef
trigger1 = 1
attr = A, HP
animtype  = Heavy
damage    = 1,1
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -1,.5
Fall = 0
Sprpriority = 3
Getpower = 0,0
kill = 0
Numhits = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 1
pos = 60,60
ignorehitpause = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7051) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7051
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = Changestate
trigger1 = time = 207
value = 7056
;-------------------------------------------------------------------------------
; Genkidama Lanzamiento Fin
[StateDef 7056]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7056
sprpriority = 5
velset = 0,0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -(vel y)*5
scale = 9,9

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
Ampl = -8

[state 0]
type = playsnd
trigger1 = time = 0
value = S1,12

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = S, HP
animtype  = Heavy
damage    = 10
Hitflag = MAFDE
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-7
air.velocity = -3,-7
Fall = 1
Fall.recover = 0
Getpower = 0,0
Sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
kill = 1

[State 200, Explosión]
type = Explod
trigger1 = time = 0
anim = 8015
ID = 8015
pos = 0,0
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .8,.8
removeongethit = 1
ontop = 1

[State 0]
type = Destroyself
trigger1 = Time = 37
;-------------------------------------------------------------------------------
; Genkidama Partícula
[Statedef 7058]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7058
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = parentdist x/100
y = parentdist y/50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 800-time*25,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 7050

[State 200, End]
type = Destroyself
trigger1 = Time >= 120
;===============================================================================
; Kamehameha Kaioken:
;-------------------------------------------------------------------------------
[Statedef 8000]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
poweradd= -1500
anim = 6000
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,52
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,52
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,52
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,52
volume = 999

[State 0, Armadura]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "Armadura"
ID = 9000
stateno = 9000
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S500,1
volume = 50
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,1
volume = 999

[State 0, Viento]
type = Explod
trigger1 = time = 16
anim = 1220
ID = 1220
pos = -7,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.18,0.19
vel = -0.5,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 1
pausemove = 1

[State 0, Viento]
type = Explod
trigger1 = time = 16
anim = 1220
ID = 1220
pos = 0,-3
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.18,0.19
vel = 0.5,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermove = 1
pausemove = 1

[State 0, Super]
type = Explod
trigger1 = time = 0
anim = 9998
ID = 9998
pos = 2,-17
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
removetime = -2
supermove = 1
pausemove = 1
ontop = 1
ownpal = 1
removeongethit = 1
scale = 0.25,0.25
sprpriority = 15

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 25
movetime = 25
anim = -1
sound = S0,3
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 5210, 1]
type = PalFX
trigger1 = Time = 16
time = 7
add = 128,128,128

[State 0, Ola]
type = Helper
trigger1 = Time = 16
helpertype = normal
name = "Ola"
ID = 570
facing = 1
stateno = 570
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1
Supermovetime = 999

[State 0, Aura]
type = Helper
trigger1 = time = 21
helpertype = normal
name = "Aura 1"
ID = 650
stateno = 650
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4
[State 0, Aura]
type = Helper
trigger1 = time = 21
helpertype = normal
name = "Aura 1"
ID = 650
stateno = 650
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 200, End]
type = ChangeState
trigger1 = time = 51
value = 8001

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Kamehameha Kaioken Carga
[Statedef 8001]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8001
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,8
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,8
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,8
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,8
volume = 999

[State 0, Armadura]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "Armadura"
ID = 9000
stateno = 9000
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Aura]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Aura"
ID = 8012
stateno = 8012
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4
[State 0, Aura]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Aura"
ID = 8012
stateno = 8012
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 0, Kamehameha Carga]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Kamehameha Carga"
ID = 8010
stateno = 8010
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25

[State 0, Kamehameha Ola]
type = Helper
trigger1 = time = 50
helpertype = normal
name = "Kamehameha Ola"
ID = 8011
stateno = 8011
facing = 1
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 2
size.yscale = 2

[State 200, End] ; Lanzamiento 1
type = ChangeState
triggerall = var(3) = 0
triggerall = time >= 30
trigger1 = ailevel = 0 && command != "hold_a"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && p2bodydist x >= 100 && p2bodydist x < 300 && time >= 30+random%60
trigger4 = time = 90
value = ifelse(time >= 60,8003,8002)

[State 200, End] ; Lanzamiento 2
type = ChangeState
triggerall = var(3) = 1
triggerall = time >= 30
trigger1 = ailevel = 0 && command != "hold_a"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && p2bodydist x >= 100 && p2bodydist x < 300 && time >= 30+random%60
trigger4 = time = 90
value = ifelse(time >= 60,8002,8003)
;-------------------------------------------------------------------------------
; Kamehameha Carga
[Statedef 8010]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 8010
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -11,-22

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .1+time*.1,.1+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10
scale = 1+fvar(1),1+fvar(1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S5,14
volume = 50

[State 0, VarAdd]
type = VarAdd
triggerall = root,var(3) = 0
trigger1 = time = [43,48]
fv = 1
value = .05

[State 0, VarAdd]
type = VarAdd
triggerall = root,var(3) = 1
trigger1 = time = [43,48]
fv = 1
value = .1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,17
volume = 50
channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 8001
channel = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 8001
;-------------------------------------------------------------------------------
; Kamehameha Maximo
[Statedef 8011]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8011
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time <= 8
value = 0
scale = .25-time*.035,.25-time*.035

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 8
value = 0
scale = .025,.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*25),256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -12,-22

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 30
;-------------------------------------------------------------------------------
; Aura Kaioken 1
[Statedef 8012]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1580
sprpriority = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-20

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = time = 85
value = 655
;-------------------------------------------------------------------------------
; Lanzamiento 1
[Statedef 8002]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8002
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,19
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,19
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,19
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,19
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,19
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,19
volume = 999

[State 0, EnvShake]
type = EnvShake
triggerall = helper(8014),stateno != 8015
trigger1 = time > 0 && numhelper(8014) > 0 && timemod = 20,0
trigger2 = time = 0
time = 20

[State 0, Kamehameha Pequeño]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Kamehameha Pequeño"
ID = 8014
stateno = 8014
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 1220
ID = 1220
pos = -7,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.18,0.19
vel = -0.5,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 200, End]
type = ChangeState
trigger1 = time = 57
value = 6001

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Kamehameha Pequeño Inicio
[Statedef 8014]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8014
sprpriority = 3

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18
volume = 50

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 17,-22

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
TriggerAll = HitCount < 14
trigger1 = timemod = 5,0
attr = S, SP
animtype  = Heavy
damage    = 25,25
Hitflag = MAFDE
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-0
hitsound   = S1,12
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0
air.velocity = -5,-1
Fall = 1
Getpower = 0,0
sprpriority = 3

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 5,-10-Random%30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-25
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 8002

[State 200, End]
type = ChangeState
trigger1 = time = 25
value = 8015
;-------------------------------------------------------------------------------
; Kamehameha Pequeño Fin
[Statedef 8015]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 17,-22

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,26
volume = 50

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 10
v = 2
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 16,8
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S5,26
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Fall = 1
Getpower = 0,0
sprpriority = 3
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, Explosión]
type = Explod
trigger1 = Movehit = 1
anim = 8015
ID = 8015
postype = P2
pos = 0,-20
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .35,.35
removeongethit = 1
ontop = 1

[State 200, Explosión]
type = Explod
trigger1 = Movehit = 1
anim = 8015
ID = 8015
postype = P2
pos = 0,-20
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .35,.35
removeongethit = 1
ontop = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-25
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
fv = 1
value = .1

[State 200, End]
type = Destroyself
trigger1 = time = 30
;-------------------------------------------------------------------------------
; Lanzamiento 2
[Statedef 8003]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8003
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S600,8
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S600,8
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S600,8
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S600,8
volume = 999

[State 0, EnvShake]
type = EnvShake
triggerall = helper(8017),stateno != 8018
trigger1 = time > 0 && numhelper(8017) > 0 && timemod = 20,0
trigger2 = time = 0
time = 20

[State 0, Kamehameha Pequeño]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Kamehameha Pequeño"
ID = 8017
stateno = 8017
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 1220
ID = 1220
pos = -7,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.20,0.21
vel = -0.5,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Aura]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Aura"
ID = 8013
stateno = 8013
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4
[State 0, Aura]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Aura"
ID = 8013
stateno = 8013
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 200, End]
type = ChangeState
trigger1 = time = 87
value = 6001

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Kamehameha Maximo Inicio
[Statedef 8017]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8014
sprpriority = 3

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18
volume = 50

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 18,-22

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
TriggerAll = HitCount < 12
trigger1 = timemod = 5,0
attr = S, SP
animtype  = Heavy
damage    = 15,15
Hitflag = MAFDE
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-0
hitsound   = S1,12
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0
air.velocity = -5,-1.5
Fall = 1
Getpower = 0,0
sprpriority = 3

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 5,-10-Random%30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-25
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 8003

[State 200, End]
type = ChangeState
trigger1 = time = 60
value = 8018
;-------------------------------------------------------------------------------
; Kamehameha Maximo Fin
[Statedef 8018]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 18,-22

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,26
volume = 50

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 10
v = 2
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = S, SP
animtype  = Heavy
damage    = 16,8
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S5,26
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Fall = 1
Getpower = 0,0
sprpriority = 3
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, Explosión]
type = Explod
trigger1 = Movehit = 1
anim = 8015
ID = 8015
postype = P2
pos = 0,-20
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .40,.40
removeongethit = 1
ontop = 1

[State 200, Explosión]
type = Explod
trigger1 = Movehit = 1
anim = 8015
ID = 8015
postype = P2
pos = 0,-20
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .40,.40
removeongethit = 1
ontop = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-25
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
fv = 1
value = .1

[State 200, End]
type = Destroyself
trigger1 = time = 30
;-------------------------------------------------------------------------------
; Aura Kaioken 2
[Statedef 8013]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1580
sprpriority = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-20

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = time = 87
value = 655
;===============================================================================
; Rafaga de Bolas de Ki:
;-------------------------------------------------------------------------------
; Rafaga de Bolas de Ki Inicio
[Statedef 8050]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 8050
poweradd = -1000
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,28
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,28
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,28
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,28
volume = 999

[State 0, Armadura]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "Armadura"
ID = 9000
stateno = 9000
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Super]
type = Explod
trigger1 = time = 0
anim = 9998
ID = 9998
pos = 2,-17
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
removetime = -2
supermove = 1
pausemove = 1
ontop = 1
ownpal = 1
removeongethit = 1
scale = 0.25,0.25
sprpriority = 15

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 25
movetime = 25
anim = -1
sound = S0,3
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 200, End]
type = ChangeState
trigger1 = time = 30
value = 8051

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Rafaga de Bolas de Ki Lanzamientos
[Statedef 8051]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 8051
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S10,21
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S10,21
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S10,21
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S10,21
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = Animelem = 20
x = -1.5

[State 0, Viento]
type = Explod
trigger1 = animelem = 20
anim = 1220
ID = 1220
pos = -7,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.18,0.19
vel = -0.5,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2||animelem = 4||animelem = 6||animelem = 8||animelem = 10||animelem = 12||animelem = 14||animelem = 16||animelem = 18
time = 5
ampl = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 20
time = 7
ampl = -5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2||animelem = 4||animelem = 6||animelem = 8||animelem = 10||animelem = 12||animelem = 14||animelem = 16||animelem = 18||animelem = 20
value = S5,16

[State 0, Shot FX]
type = Helper
trigger1 = animelem = 2||animelem = 4||animelem = 6||animelem = 8||animelem = 10||animelem = 12||animelem = 14||animelem = 16||animelem = 18||animelem = 20
helpertype = normal
name = "Shot FX"
ID = 220
stateno = 220
pos = 28,-25
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .14
size.yscale = .14

[State 0, Ki Blast]
type = Helper
trigger1 = animelem = 2||animelem = 4||animelem = 6||animelem = 8||animelem = 10||animelem = 12||animelem = 14||animelem = 16||animelem = 18
helpertype = normal
name = "Ki Blast"
ID = 8052
stateno = 8052
pos = 25,-18-Random%5
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .25
size.yscale = .25

[State 0, Ki Blast]
type = Helper
trigger1 = animelem = 20
helpertype = normal
name = "Ki Blast"
ID = 8053
stateno = 8053
pos = 25,-13
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .35
size.yscale = .35

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Bola de Ki - FX
[Statedef 8052]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 218
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 150
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 219
time = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 13
y = 0+(random%2)-(random%2)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = (-vel y)*3
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SP
animtype  = Medium
damage    = 20,10
Hitflag = MAFDE
guardflag = MA
pausetime = 0,9
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2,0
Fall = 0
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = frontedgebodydist < 0
trigger2 = time >= 500
trigger3 = pos y >= -5
trigger4 = movecontact
value = 219
;-------------------------------------------------------------------------------
; Bola de Ki Grande - FX
[Statedef 8053]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 218
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 150
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 219
time = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 13
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = (-vel y)*3
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SP
animtype  = Medium
damage    = 25,15
Hitflag = MAFDE
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-5
air.velocity = -3,-5
Fall = 1
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = frontedgebodydist < 0
trigger2 = time >= 500
trigger3 = pos y >= -5
trigger4 = movecontact
value = 8054
;-------------------------------------------------------------------------------
; Bola de Ki - Explosión
[Statedef 8054]
type    = A
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = -1

[State 0, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = -1
length = 60
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 5
ampl = -5

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = -10
y = 0

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 219
ID = 219
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1
Angle = 0+Random%180

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 216
ID = 216
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .20,.20
sprpriority = 3
ontop = 1
ownpal = 1
Angle = 0+Random%180

[State 0, Screen Flash]
type = Explod
triggerall = numexplod(9022) = 0
trigger1 = time = 0
anim = 9022
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 999,999
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = time = 1
;===============================================================================
; Rafaga de Bolas de Ki en el Aire:
;-------------------------------------------------------------------------------
;Rafaga de Bolas de Ki en el Aire Inicio
[Statedef 8055]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 8055
poweradd = -1500
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,24
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,24
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,24
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,24
volume = 999

[State 0, Super]
type = Explod
trigger1 = time = 0
anim = 9998
ID = 9998
pos = 2,-17
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
removetime = -2
supermove = 1
pausemove = 1
ontop = 1
ownpal = 1
removeongethit = 1
scale = 0.25,0.25
sprpriority = 15

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 25
movetime = 25
anim = -1
sound = S0,3
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 200, End]
type = ChangeState
trigger1 = time = 24
value = 8056

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Rafaga de Bolas de Ki en el Aire Lanzamientos
[Statedef 8056]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 8056
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S10,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S10,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S10,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S10,9
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = Animelem = 1||animelem = 2||animelem = 3||animelem = 4||animelem = 5||animelem = 6||animelem = 7||animelem = 8
x = -1.50
y = -.50

[State 0, Disparo FX]
type = Helper
trigger1 = Animelem = 1||animelem = 2||animelem = 3||animelem = 4||animelem = 5||animelem = 6||animelem = 7||animelem = 8
helpertype = normal
name = "Disparo FX"
ID = 216
stateno = 216
pos = 10,-28
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .175
size.yscale = .175

[State 0, Bola de Ki - FX]
type = Helper
trigger1 = Animelem = 1||animelem = 2||animelem = 3||animelem = 4||animelem = 5||animelem = 6||animelem = 7||animelem = 8
helpertype = normal
name = "Bola de Ki - FX"
ID = 8057
stateno = 8057
pos = 15,-15
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .24
size.yscale = .24

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 80
statetype = A
movetype = A
physics = A

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Bola de Ki - FX
[Statedef 8057]
type    = A
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 214
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,16
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,42

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 60
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 12.5
y = 8-Random%5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -25
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
Triggerall = !Movecontact
trigger1 = 1
attr = S, SP
animtype  = Heavy
damage    = 20,10
Hitflag = MAFD
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-3
air.velocity = -3,-3
Fall = 1
Envshake.time = 5
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 215
time = 999

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = Changestate
trigger1 = frontedgebodydist < 0
trigger2 = time >= 500
trigger3 = pos y >= -10
trigger4 = movecontact
value = 215
;===============================================================================
; Helper de Conexiones:
;-------------------------------------------------------------------------------
[Statedef 700]
type    = S
movetype= I
physics = S
anim = 9999

[State 200, End]
type = Destroyself
trigger1 = time = 15 || root,time < 5
;===============================================================================
; Armadura:
;-------------------------------------------------------------------------------
[StateDef 9000]
Type = S
Ctrl = 0
VelSet = 0,0
SprPriority = 0
MoveType = I

[State 0, ChangeAnim]
Type = ChangeAnim
Trigger1 = 1
Value =  Root, Anim
Elem = Root, AnimElemNo(0) 
IgnoreHitPause = 1

[State 0, BindToRoot]
Type = BindToRoot
Trigger1 = 1
Time = -1
IgnoreHitPause = 1

[State 0, PlayerPush]
Type = PlayerPush
Trigger1 = 1
Value = 1
IgnoreHitPause = 1

[State 0, Turn]
type = Turn
trigger1 = Facing != Root, Facing
IgnoreHitPause = 1

[State 0, HitOverride]
Type = HitOverride
Trigger1 = 1
Attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
StateNO = StateNO
Time = -1
IgnoreHitPause = 1

[State 0, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = Invisible
IgnoreHitPause = 1

[State 0, Null]
Type = Null
Trigger1 = !Time && !Var(0)
Trigger1 = Var(0) := (Root, StateNO)
IgnoreHitPause = 1

[State 0, DestroySelf]
Type = DestroySelf
Trigger1 = Time && (Root, StateNO) != Var(0)
IgnoreHitPause = 1
;===============================================================================
; Kamehameha Kaioken x4:
;-------------------------------------------------------------------------------
; Kamehameha Kaioken x4
[Statedef 9050]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 9050
poweradd = -2000
velset = 0,0
sprpriority = 2

[State 0, Armadura]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "Armadura"
ID = 9000
stateno = 9000
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Super]
type = Explod
trigger1 = time = 0
anim = 9998
ID = 9998
pos = 2,-17
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
removetime = -2
supermove = 1
pausemove = 1
ontop = 1
ownpal = 1
removeongethit = 1
scale = 0.25,0.25
sprpriority = 15

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 25
movetime = 25
anim = -1
sound = S0,3
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 200, End]
type = ChangeState
trigger1 = time = 40
value = 9051

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Kamehameha Kaioken x4 Patada
[Statedef 9051]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 9051
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 4

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Medium
damage    = 25
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-10.5
air.velocity = -2,-10.5
Fall = 1
fall.recover=  0
Kill = 0
Envshake.time = 7

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 10,-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .20,.20
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = movehit
value = 9052

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; Kamehameha Kaioken x4 Transformación
;-------------------------------------------------------------------------------
[Statedef 9052]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 6000
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,16
volume = 999

[State 0, Armadura]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "Armadura"
ID = 9000
stateno = 9000
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S500,1
volume = 50
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,1
volume = 999

[State 0, Viento]
type = Explod
trigger1 = time = 16
anim = 1220
ID = 1220
pos = -7,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.18,0.19
vel = -0.5,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 1
pausemove = 1

[State 0, Viento]
type = Explod
trigger1 = time = 16
anim = 1220
ID = 1220
pos = 0,-3
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.18,0.19
vel = 0.5,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermove = 1
pausemove = 1

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 17
movetime = 17
anim = -1
sound = S0,3
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 52 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 5210, 1]
type = PalFX
trigger1 = Time = 16
time = 7
add = 128,128,128

[State 0, Ola]
type = Helper
trigger1 = Time = 16
helpertype = normal
name = "Ola"
ID = 570
facing = 1
stateno = 570
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1
Supermovetime = 999

[State 0, Aura]
type = Helper
trigger1 = time = 21
helpertype = normal
name = "Aura 1"
ID = 650
stateno = 650
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4
supermovetime = 99999
pausemovetime = 99999
[State 0, Aura]
type = Helper
trigger1 = time = 21
helpertype = normal
name = "Aura 1"
ID = 650
stateno = 650
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = ChangeState
trigger1 = time = 41
value = 9053

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Kamehameha Kaioken x4 Carga
[Statedef 9053]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 9053
velset = 0,0
sprpriority = 2

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 42 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Aura]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Aura"
ID = 9061
stateno = 9061
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1
[State 0, Aura]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Aura"
ID = 9061
stateno = 9061
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 45
movetime = 45
anim = -1
sound = S0,3
pos = 32,-80
darken = 0
unhittable = 1

[State 0, Kamehameha Carga]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "Kamehameha Carga"
ID = 9056
stateno = 9056
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .30
size.yscale = .30
Supermovetime = 999

[State 200, End]
type = ChangeState
trigger1 = time = 55
value = 9054

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Aura Kaioken x4
[Statedef 9061]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1580
sprpriority = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-20

;[State 0, AngleDraw]
;type = AngleDraw
;trigger1 = 1
;value = 1
;scale = .175*Helper(999999),Fvar(16),.225*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = time = 58
value = 655
;-------------------------------------------------------------------------------
; Kamehameha Kaioken x4 Carga
[Statedef 9056]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 8010
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -10,-20

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .1+time*.1,.1+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10
scale = 1+fvar(1),1+fvar(1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S5,14
volume = 50

[State 0, VarAdd]
type = VarAdd
triggerall = root,var(3) = 0
trigger1 = time = [43,48]
fv = 1
value = .05

[State 0, VarAdd]
type = VarAdd
triggerall = root,var(3) = 1
trigger1 = time = [43,48]
fv = 1
value = .1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,17
volume = 50
channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 9053
channel = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 9053
;-------------------------------------------------------------------------------
; Kamehameha Kaioken x4 Lanzamiento 1
[Statedef 9054]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 9054
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,1
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S10,26
channel = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S10,26
channel = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S10,26
channel = 3

[State 0, Aura]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Aura"
ID = 9061
stateno = 9061
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4
[State 0, Aura]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Aura"
ID = 9061
stateno = 9061
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 1220
ID = 1220
pos = -3,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 30
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
triggerall = helper(9057),stateno != 9058
trigger1 = time > 0 && numhelper(9057) > 0 && timemod = 20,0
trigger2 = time = 0
time = 20

[State 0, Kamehameha Lanzamiento]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Kamehameha Lanzamiento"
ID = 9057
stateno = 9057
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 200, Combo]
type = ChangeState
triggerall = var(13) < 4
triggerall = time > 15
trigger1 = command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 9055

[State 200, End]
type = ChangeState
trigger1 = time = 58
value = 6001

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Kamehameha Kaioken x4 Inicio - FX
[Statedef 9057]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9057
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
Value = 28

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18
volume = 50

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 17,-30

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
TriggerAll = HitCount < 14
trigger1 = timemod = 5,0
attr = S, SP
animtype  = Heavy
damage    = 25,25
Hitflag = MAFDE
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-0
hitsound   = S1,12
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0
air.velocity = -1,-5
Fall = 1
Getpower = 0,0
sprpriority = 3

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 1
pos = 120,-40
ignorehitpause = 1

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 5,-10-Random%30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-25
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 9054

[State 200, End]
type = ChangeState
trigger1 = time = 40
value = 9058
;-------------------------------------------------------------------------------
; Kamehameha Kaioken x4 Fin - FX
[Statedef 9058]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
Value = 28

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 17,-30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,26
volume = 50

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 10
v = 2
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 16,8
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S5,26
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Fall = 1
Getpower = 0,0
sprpriority = 3
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, Explosión]
type = Explod
trigger1 = Movehit = 1
anim = 8015
ID = 8015
postype = P2
pos = 0,-20
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .35,.35
removeongethit = 1
ontop = 1

[State 200, Explosión]
type = Explod
trigger1 = Movehit = 1
anim = 8015
ID = 8015
postype = P2
pos = 0,-20
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .35,.35
removeongethit = 1
ontop = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-25
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
fv = 1
value = .1

[State 200, End]
type = Destroyself
trigger1 = time = 30
;-------------------------------------------------------------------------------
; Kamehameha Kaioken x4 Máximo Lanzamiento 2
[Statedef 9055]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 9055
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,14
volume = 999

[State 0, Armadura]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "Armadura"
ID = 9000
stateno = 9000
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,0
volume = 999

[State 0, Aura]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Aura"
ID = 9062
stateno = 9062
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .5
size.yscale = .5
[State 0, Aura]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Aura"
ID = 9062
stateno = 9062
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 0, Pause]
type = Pause
trigger1 = time = [0,10]
time = 1

[State 0, EnvShake]
type = EnvShake
triggerall = helper(9059),stateno != 9060
trigger1 = time > 0 && numhelper(9059) > 0 && timemod = 20,0
trigger2 = time = 0
time = 25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 1220
ID = 1220
pos = -3,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.35,0.35
sprpriority = 30
ignorehitpause = 1

[State 0, Kamehameha Lanzamiento]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Kamehameha Lanzamiento"
ID = 9059
stateno = 9059
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .30
size.yscale = .30

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 9053
channel = 3

[State 200, End]
type = ChangeState
trigger1 = time = 100
value = 6001

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Aura Kaioken x4 Máximo
[Statedef 9062]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1580
sprpriority = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-20

;[State 0, AngleDraw]
;type = AngleDraw
;trigger1 = 1
;value = 1
;scale = .175*Helper(999999),Fvar(16),.225*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = time = 95
value = 655
;-------------------------------------------------------------------------------
; Kamehameha Kaioken x4 Máximo Inicio - FX
[Statedef 9059]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9059
sprpriority = 3

[State 0, Screen Flash]
type = Explod
triggerall = numexplod(9022) = 0
trigger1 = time = 0
anim = 9022
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 999,999
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
Value = 28

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18
volume = 50

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 150,-100

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
TriggerAll = HitCount < 14
trigger1 = timemod = 5,0
attr = S, SP
animtype  = Heavy
damage    = 25,25
Hitflag = MAFDE
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-0
hitsound   = S1,12
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0
air.velocity = -4,-3
Fall = 1
Getpower = 0,0
sprpriority = 3

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 5,-10-Random%30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-25
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 9055

[State 200, End]
type = ChangeState
trigger1 = time = 65
value = 9060
;-------------------------------------------------------------------------------
; Kamehameha Kaioken x4 Máximo Fin - FX
[Statedef 9060]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9060
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
Value = 28

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 150,-100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,26
volume = 50

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 10
v = 2
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 400-time*25,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 16,8
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S5,26
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Fall = 1
Getpower = 0,0
sprpriority = 3
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, Explosión]
type = Explod
trigger1 = Movehit = 1
anim = 8015
ID = 8015
postype = P2
pos = 0,-20
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .35,.35
removeongethit = 1
ontop = 1

[State 200, Explosión]
type = Explod
trigger1 = Movehit = 1
anim = 8015
ID = 8015
postype = P2
pos = 0,-20
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .35,.35
removeongethit = 1
ontop = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(300) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 300
postype = P2
pos = 10,-25
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
fv = 1
value = .1

[State 200, End]
type = Destroyself
trigger1 = time = 18